function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));const btnSun=document.querySelector(".menu__weather-btn_sun"),btnCloud=document.querySelector(".menu__weather-btn_cloud"),btnPlay=document.querySelector(".menu__play-btn"),video=document.querySelector(".video"),audio=document.querySelector(".audio"),btnMenu=document.querySelector(".menu__button"),timer=document.querySelector(".menu__play-timer"),timerBlock=document.querySelector(".timer");let currentTime=600,step=100/currentTime;function startTimer(){let e=timer.innerHTML,t=e.split(":")[0],r=e.split(":")[1];video.paused||(0==r?0==t?(video.pause(),audio.pause()):(t--,r=59):r--,timer.innerHTML=t+":"+r,setProgress((currentTime-(60*t+r))/currentTime*100),setTimeout(startTimer,1e3))}function setProgress(e){const t=document.querySelector(".progress-ring__circle"),r=t.r.baseVal.value,i=2*Math.PI*r;t.style.strokeDasharray=`${i} ${i}`,t.style.strokeDashoffset=i;const n=i-e/100*i;t.style.strokeDashoffset=n}btnSun.addEventListener("click",(function(){video.src="https://harryheman.github.io/meditationApp/src/video/beach.mp4",audio.src="https://harryheman.github.io/meditationApp/src/audio//beach.mp3"})),btnCloud.addEventListener("click",(function(){video.src="https://harryheman.github.io/meditationApp/src/video/rain.mp4",audio.src="https://harryheman.github.io/meditationApp/src/audio/rain.mp3"})),btnPlay.addEventListener("click",(function(){video.paused?(this.innerHTML='<i class="fa fa-pause" aria-hidden="true"></i>',video.play(),audio.play(),startTimer()):(this.innerHTML='<i class="fa fa-play" aria-hidden="true"></i>',video.pause(),audio.pause())})),btnMenu.addEventListener("click",(function(e){let t=e.target;t.classList.contains("menu__button-btn")&&(timer.innerHTML=t.value+":00",currentTime=60*t.value,step=100/currentTime)})),setProgress(0);